$.urlParam=function(name){var results=new RegExp('[\?&]'+ name+'=([^&#]*)').exec(window.location.href);if(results==null){return null;}
else{return results[1]||0;}}
var get_email_md5=function(){if($.urlParam('userid')){var expirar=new Date();var userid=$.urlParam('userid');expirar.setTime(expirar.getTime()+ 3600*1000);document.cookie='analytics_id='+ userid.toLowerCase()+'; expires='+ expirar.toUTCString()+'; domain=www.pccomponentes.com; path=/';}
if($.cookie("analytics_id")){window.uidpc=$.cookie("analytics_id");}}
var enhanced=function(){var product_array=[];$('.product_enhanced_foto').each(function(key,element){var product_obj={};product_obj.name=$(this).attr('data-name');product_obj.id=$(this).attr('data-id');product_obj.price=$(this).attr('data-price');product_obj.brand=$(this).attr('data-brand');product_obj.category=$(this).attr('data-category');product_obj.variant='';product_obj.list=$(this).attr('data-list');product_obj.position=parseInt($(this).attr('data-position'));product_array.push(product_obj);});window.dataLayer=window.dataLayer||[];var google_enhanced_obj={'event':'impressionSent2','ecommerce':{}};if(product_array.length){google_enhanced_obj.ecommerce.impressions=product_array;}
if($('.detail_enhanced').length){google_enhanced_obj.ecommerce.detail={'actionField':{'list':'accPRO'},'products':[{'name':$('.detail_enhanced').attr('data-name'),'id':$('.detail_enhanced').attr('data-id'),'price':$('.detail_enhanced').attr('data-price'),'brand':$('.detail_enhanced').attr('data-brand'),'category':$('.detail_enhanced').attr('data-category'),'variant':''}]};}
dataLayer.push(google_enhanced_obj);$(document).on('click','.product_enhanced',function(e){e.preventDefault();var direccion=$(this).attr('href');dataLayer.push({'event':'productClick','ecommerce':{'click':{'actionField':{'list':$(this).attr('data-list')},'products':[{'name':$(this).attr('data-name'),'id':$(this).attr('data-id'),'price':$(this).attr('data-price'),'brand':$(this).attr('data-brand'),'category':$(this).attr('data-category'),'position':parseInt($(this).attr('data-position'))}]}},'eventCallback':function(){location.href=direccion;}});setTimeout(function(){location.href=direccion;},1500);});$.getScript("//www.pccomponentes.com/movil/js/md5.js",get_email_md5);}
$(document).ready(function(){if($.cookie){enhanced();}else{$.getScript("//www.pccomponentes.com/movil/js/jquery.cookies.js",enhanced);}});
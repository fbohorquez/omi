<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>.</TITLE>
<META NAME="description" CONTENT=".">
<META NAME="keywords" CONTENT="head">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="head.css">

</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<IMG WIDTH="81" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next_inactive"
 SRC="/usr/share/latex2html/icons/nx_grp_g.png"> 
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up_g.png"> 
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev_g.png">   
<BR>
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<P>
<H1 ALIGN="CENTER"> 
<DIV ALIGN="CENTER">
<IMG
  WIDTH="302" HEIGHT="118" ALIGN="BOTTOM" BORDER="0"
 SRC="./logo-doc.png"
 ALT="Image logo-doc">

</DIV></H1>
<DIV CLASS="author_info">

<P ALIGN="CENTER"><STRONG>Manual de implantación</STRONG></P>
<P ALIGN="LEFT"><SMALL> Fco. Javier Bohórquez Ogalla</SMALL></P>
</DIV>
<BR>

<H2><A NAME="SECTION00010000000000000000">
&#205;ndice General</A>
</H2>
<!--Table of Contents-->

<UL CLASS="TofC">
<LI><A NAME="tex2html12"
  HREF="head.html#SECTION00020000000000000000">Vista general</A>
<LI><A NAME="tex2html13"
  HREF="head.html#SECTION00030000000000000000">Introducción</A>
<LI><A NAME="tex2html14"
  HREF="head.html#SECTION00040000000000000000">Requisitos previos</A>
<LI><A NAME="tex2html15"
  HREF="head.html#SECTION00050000000000000000">Inventario de componentes</A>
<UL>
<LI><A NAME="tex2html16"
  HREF="head.html#SECTION00051000000000000000">Hardware</A>
<LI><A NAME="tex2html17"
  HREF="head.html#SECTION00052000000000000000">Software</A>
</UL>
<BR>
<LI><A NAME="tex2html18"
  HREF="head.html#SECTION00060000000000000000">Procedimiento de intalación</A>
<LI><A NAME="tex2html19"
  HREF="head.html#SECTION00070000000000000000">Pruebas de implantación</A>
<LI><A NAME="tex2html20"
  HREF="head.html#SECTION00080000000000000000">Procedimientos de operación y nivel de servicio</A>
</UL>
<!--End of Table of Contents-->
<H1><A NAME="SECTION00020000000000000000">
Vista general</A>
</H1>
En esta sección se detallan las instrucciones de instalación y explotación del sistema

<P>

<H1><A NAME="SECTION00030000000000000000">
Introducción</A>
</H1>
Los objetivos del proyecto OMI es servir como una plataforma para el aprendizaje de cómo se 
construyen los lenguajes de programación. Esto lo hace mediante el estudio de un intérprete propio del 
proyecto, desarrollado desde cero y con características de los lenguajes actuales. Para facilitar toda esta información el
proyecto OMI pone a disposición del usuario una serie de herramientas que ayudan al aprendizaje, así mismo como toda la información relativa al proyecto. 

<P>
El sistema OMI pretende ser un sistema distribuido con una alta disponibilidad y de fácil acceso. Es por ello que 
todas las herramientas y recursos del proyecto son ofrecida vía online y pueden ser accedidas desde cualquier navegador o dispositivo.

<P>
La implantación del sistema OMI comprende la configuración del dominio, del servidor web y del sistema intérprete.

<P>

<H1><A NAME="SECTION00040000000000000000">
Requisitos previos</A>
</H1>
Para el correcto funcionamiento de la plataforma se precisa de un equipo con alta disponibilidad que hará de servidor web. Este equipo tendrá una 
una distribución GNU/Linux Debian o derivada.

<P>

<H1><A NAME="SECTION00050000000000000000">
Inventario de componentes</A>
</H1>

<P>

<H2><A NAME="SECTION00051000000000000000">
Hardware</A>
</H2>

<P>
<DL>
<DT><STRONG>Virtualizacion:</STRONG></DT>
<DD>VPS
</DD>
<DT><STRONG>RAM:</STRONG></DT>
<DD>2 GiB
</DD>
<DT><STRONG>CPU:</STRONG></DT>
<DD>8 núcleos
</DD>
</DL> 

<P>

<H2><A NAME="SECTION00052000000000000000">
Software</A>
</H2>
<DL>
<DT><STRONG>Sistema Operativo:</STRONG></DT>
<DD>Debian 7
</DD>
<DT><STRONG>Interprete:</STRONG></DT>
<DD>OMI 1.0
</DD>
<DT><STRONG>Nombre de dominio:</STRONG></DT>
<DD>Bind 9
</DD>
<DT><STRONG>Web:</STRONG></DT>
<DD>Apache 2.2
</DD>
<DT><STRONG>Interprete web:</STRONG></DT>
<DD>PHP 5.4
</DD>
<DT><STRONG>Plataforma:</STRONG></DT>
<DD>omi-project 1.0
</DD>
</DL>

<P>

<H1><A NAME="SECTION00060000000000000000">
Procedimiento de intalación</A>
</H1>

<P>
Se procede con la instalación de los paquetes necesarios
<PRE>
apt-get install apache2 php5 bind9 autoconf automake build-essential libreadline-dev libboost-regex-dev
</PRE>

<P>
Se configura la zona del dominio y los registros asociados al mismo.
<PRE>
; Zone file for omi-project.com
$TTL 14400
omi-project.com.	14400	IN	SOA	ns.omi-project.com. omi-project.com. (
			10000000001
			86400
			7200
			3600000
			86400 )

omi-project.com.	14400	IN	NS	ns1.omi-project.com.
omi-project.com.	14400 	IN	NS	ns2.omi-project.com.
omi-project.com.	14400	IN	A	$IP$
localhost	14400	IN	A	127.0.0.1
omi-project.com.	14400	IN	MX	10	mail
omi-project.com. 	14400	IN	TXT	"v=spf1 mx ptr ip4:$IP$ mx:mail.omi-project.com +all"
omi-project.com.     14400   IN      SPF     "v=spf1 mx ptr ip4:$IP$ mx:mail.omi-project.com +all"

mail	14400	IN	A	$IP$
www	14400	IN	CNAME	omi-project.com.
ftp	14400	IN	A	$IP$
ns	14400	IN	A	$IP$
ns1 	14400  	IN	A	$IP$
ns2 	14400	IN	A	$IP$
admin 	14400	IN	A	$IP$

_adsp._domainkey.omi-project.com. IN TXT "dkim=all; atps=y; asl=omi-project;"
</PRE>

<P>
Descarga y compilación del proyecto OMI.

<P>
<PRE>
wget http://www.omi-project.com/download/code/omi_1.0.tar.gz
tar -xzvf omi_1.0.tar.gz
cd omi_1.0.tar.gz
./configure JSON=1 SERVER=1
make
make install
make clean
</PRE>

<P>
Configuración del servidor web Apache. Se define un nuevo host virtual

<P>
<PRE>
&lt;VirtualHost *:80&gt;
     ServerAdmin admin@omi-project.com
     ServerName omi-project.com
     DocumentRoot $PATH$
     ErrorLog $PATH$/error.log
     TransferLog $PATH$/access.log
     &lt;Directory $PATH$ &gt;
         Require all granted
         AllowOverride all
     &lt;/Directory&gt;
   
   &lt;IfModule php5_module&gt;
	    php_flag session.cookie_httponly on
	&lt;/IfModule&gt;

	&lt;IfModule mod_headers.c&gt;
       Header always append X-Frame-Options SAMEORIGIN
       Header set Server "securesauce http/html processor"
       Header unset X-Powered-By
   &lt;/IfModule&gt;
&lt;/VirtualHost&gt;
</PRE>

<P>
Se ha de mover la web al directorio de producción y dar los permisos de acceso correspondientes
<PRE>
mv OMI_1.0/web $PATH$
chown -R omi:www-data $PATH$
chmod -R 750 $PATH$
</PRE>

<P>
Para finalizar se han de reiniciar los servicios.
<PRE>
service omi restart
service apache2 restart
service bind9 restart
</PRE>

<P>

<H1><A NAME="SECTION00070000000000000000">
Pruebas de implantación</A>
</H1>
Para comprobar que la implantación se ha llevado a cabo correctamente se puede llevar a cabo un chequeo de las pruebas automáticas. Para ello:
<PRE>
cd OMI_1.0
make check
</PRE>

<P>
También se puede acceder a las distintas secciones de la web. Navegando por los distintos páginas y comprobando la disponibilidad de los recursos.

<P>
Para comprobar que el servidor OMI se encuentra funcionando correctamente se puede usar el cliente runTree y comprobar
 que el código fuente enviado se interpreta correctamente.

<P>

<H1><A NAME="SECTION00080000000000000000">
Procedimientos de operación y nivel de servicio</A>
</H1>
 Para comprobar el correcto funcionamiento  del sistema en cuanto a rendimiento y disponibilidad se puede usar 
 un navegador web y las herramientas de desarrollo que la mayoría de estos tienen integradas. También se puede automatizar 
 un chequeo de disponibilidad desde una maquina tercera o la propia máquina

<P>
La web OMI no guarda ningún dato del usuario ni de los proceso asociados por lo que no es necesario hacer back-ups periódicos. 

<P>
Es posible chequear errores en el servicio web mediante el log $PATH$/error.log. También es posible
 chequear las transferencias de datos y las peticiones atendidas en el fichero $PATH$/access.log.

<H1><A NAME="SECTION00090000000000000000">
Sobre este documento...</A>
</H1>
 <STRONG> 
<DIV ALIGN="CENTER">
<IMG
  WIDTH="302" HEIGHT="118" ALIGN="BOTTOM" BORDER="0"
 SRC="./logo-doc.png"
 ALT="Image logo-doc">

</DIV></STRONG><P>
This document was generated using the
<A HREF="http://www.latex2html.org/"><STRONG>LaTeX</STRONG>2<tt>HTML</tt></A> translator Version 2008 (1.71)
<P>
Copyright &#169; 1993, 1994, 1995, 1996,
Nikos Drakos, 
Computer Based Learning Unit, University of Leeds.
<BR>
Copyright &#169; 1997, 1998, 1999,
<A HREF="http://www.maths.mq.edu.au/~ross/">Ross Moore</A>, 
Mathematics Department, Macquarie University, Sydney.
<P>
The command line arguments were: <BR>
 <STRONG>latex2html</STRONG> <TT>-no_subdir -split 0 head.tex -html_version 4.0,latin1,unicode</TT>
<P>
The translation was initiated by franj on 2016-01-17
<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<IMG WIDTH="81" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next_inactive"
 SRC="/usr/share/latex2html/icons/nx_grp_g.png"> 
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="/usr/share/latex2html/icons/up_g.png"> 
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="/usr/share/latex2html/icons/prev_g.png">   
<BR></DIV>
<!--End of Navigation Panel-->
<ADDRESS>
franj
2016-01-17
</ADDRESS>
</BODY>
</HTML>
